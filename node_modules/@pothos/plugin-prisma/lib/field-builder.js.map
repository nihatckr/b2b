{"version":3,"sources":["../src/field-builder.ts"],"names":["fieldBuilderProto","RootFieldBuilder","prototype","prismaField","type","resolve","options","modelOrRef","Array","isArray","typeRef","getRefFromModel","builder","typeParam","field","parent","args","context","info","query","queryFromInfo","withUsageCheck","prisma","onUnusedQuery","skipDeferredFragments","checkIfQueryIsUsed","prismaFieldWithInput","fieldWithInput","prismaConnection","cursor","maxSize","maxConnectionSize","defaultSize","defaultConnectionSize","totalCount","connectionOptions","edgeOptions","ref","typeName","configStore","getTypeConfig","name","model","extensions","pothosPrismaModel","formatCursor","getCursorFormatter","parseCursor","getCursorParser","cursorSelection","ModelLoader","getCursorSelection","fieldRef","connection","select","paths","returnType","getNamedType","fields","isObjectType","isInterfaceType","getFields","selections","fieldNodes","totalCountOnly","every","selection","selectionSet","s","kind","Kind","FIELD","value","pothosPrismaTotalCount","resolvePrismaCursorConnection","ctx","q","ObjectRef","t","int","nullable","result","isThenable","then","resolved","isUsed","onUnused","message","parentType","fieldName","PothosError","console","warn"],"mappings":"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"}
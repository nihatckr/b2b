{"version":3,"sources":["../src/index.ts"],"names":["SchemaBuilder","BasePlugin","PothosSchemaError","PrismaObjectFieldBuilder","InternalPrismaObjectFieldBuilder","formatPrismaCursor","parsePrismaCursor","getModel","getRefFromModel","getLoaderMapping","setLoaderMappings","queryFromInfo","prismaConnectionHelpers","PrismaInterfaceRef","PrismaNodeRef","PrismaObjectRef","prismaModelKey","prismaClientCache","pluginName","ObjectFieldBuilder","PothosPrismaPlugin","onTypeConfig","typeConfig","kind","model","extensions","pothosPrismaModel","iface","interfaces","interfaceModel","buildCache","getTypeConfig","name","onOutputFieldConfig","fieldConfig","pothosOptions","select","pothosPrismaSelect","args","ctx","nestedQuery","wrapResolve","resolver","parentConfig","parentType","loadedCheck","pothosPrismaLoaded","loaderCache","pothosPrismaLoader","fallback","pothosPrismaFallback","parentTypes","Set","interfaceConfig","add","parent","context","info","mapping","path","skipDeferredFragments","builder","options","prisma","loadSelection","then","result","cache","registerPlugin","v3","filterConnectionTotalCount"],"mappings":"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"}
{"version":3,"sources":["../src/generator.ts"],"names":["mkdirSync","writeFileSync","dirname","join","posix","resolve","resolvePath","generatorHandler","ts","ListFormat","ScriptKind","ScriptTarget","SyntaxKind","version","MIN_TS_VERSION","versionParts","split","map","part","Number","parseInt","modifiersArg","checkVersion","expected","i","defaultOutput","__dirname","onManifest","prettyName","onGenerate","options","Error","config","generator","prismaOutputLocation","clientOutput","otherGenerators","find","gen","provider","value","output","usingPureTsGenerator","extensions","prismaLocation","startsWith","some","ext","endsWith","outputLocation","prismaTypes","buildTypes","dmmf","generateOutput","undefined","trimDmmf","documentation","trimmed","datamodel","models","model","name","fields","field","type","kind","isRequired","isList","hasDefaultValue","isUnique","isId","relationName","relationFromFields","isUpdatedAt","primaryKey","uniqueIndexes","index","prismaImportStatement","factory","createImportDeclaration","createImportClause","createNamedImports","createImportSpecifier","createIdentifier","createStringLiteral","dmmfImportStatement","pluginPath","printer","createPrinter","sourcefile","createSourceFile","ESNext","TS","trimmedDatamodel","dmmfExport","createFunctionDeclaration","createModifier","ExportKeyword","createTypeReferenceNode","createBlock","createReturnStatement","createCallExpression","createPropertyAccessExpression","JSON","stringify","nodes","createNodeArray","generateDatamodel","result","printList","SourceFileStatements","fileName","recursive","replace","getOrderByTypeName","possibleTypes","orderBy","schema","inputObjectTypes","prisma","inputType","includes","prismaUtils","modelTypes","relations","filter","listRelations","createInputUnavailable","input","createPropertySignature","createTypeLiteralNode","createLiteralTypeNode","length","createUnionTypeNode","typeName","createArrayTypeNode","createNull","createFalse","createTrue","createInterfaceDeclaration","DefaultKeyword"],"mappings":"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"}
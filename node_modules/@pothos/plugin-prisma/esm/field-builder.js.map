{"version":3,"sources":["../src/field-builder.ts"],"names":["isThenable","ObjectRef","PothosError","RootFieldBuilder","getNamedType","isInterfaceType","isObjectType","Kind","ModelLoader","getCursorFormatter","getCursorParser","resolvePrismaCursorConnection","getRefFromModel","queryFromInfo","isUsed","fieldBuilderProto","prototype","prismaField","type","resolve","options","modelOrRef","Array","isArray","typeRef","builder","typeParam","field","parent","args","context","info","query","withUsageCheck","prisma","onUnusedQuery","skipDeferredFragments","checkIfQueryIsUsed","prismaFieldWithInput","fieldWithInput","prismaConnection","cursor","maxSize","maxConnectionSize","defaultSize","defaultConnectionSize","totalCount","connectionOptions","edgeOptions","ref","typeName","configStore","getTypeConfig","name","model","extensions","pothosPrismaModel","formatCursor","parseCursor","cursorSelection","getCursorSelection","fieldRef","connection","select","paths","returnType","fields","getFields","selections","fieldNodes","totalCountOnly","every","selection","selectionSet","s","kind","FIELD","value","pothosPrismaTotalCount","ctx","q","t","int","nullable","result","then","resolved","onUnused","message","parentType","fieldName","console","warn"],"mappings":"IA+Gc,8BACI;AAhHlB,SAIEA,UAAU,EAEVC,SAAS,EACTC,WAAW,EACXC,gBAAgB,QAEX,eAAe;AACtB,SAEEC,YAAY,EACZC,eAAe,EACfC,YAAY,EACZC,IAAI,QACC,UAAU;AACjB,SAASC,WAAW,QAAQ,iBAAiB;AAE7C,SAASC,kBAAkB,EAAEC,eAAe,EAAEC,6BAA6B,QAAQ,iBAAiB;AACpG,SAASC,eAAe,QAAQ,mBAAmB;AACnD,SAASC,aAAa,QAAQ,mBAAmB;AACjD,SAASC,MAAM,QAAQ,eAAe;AAEtC,MAAMC,oBAAoBZ,iBAAiBa,SAAS;AAMpDD,kBAAkBE,WAAW,GAAG,SAASA,YAAY,EAAEC,IAAI,EAAEC,OAAO,EAAE,GAAGC,SAAS;IAChF,MAAMC,aAAaC,MAAMC,OAAO,CAACL,QAAQA,IAAI,CAAC,EAAE,GAAGA;IACnD,MAAMM,UACJ,OAAOH,eAAe,WAClBT,gBAAgBS,YAAY,IAAI,CAACI,OAAO,IACvCJ;IACP,MAAMK,YAAYJ,MAAMC,OAAO,CAACL,QAC3B;QAACM;KAAQ,GACVA;IACJ,OAAO,IAAI,CAACG,KAAK,CAAC;QAChB,GAAIP,OAAO;QACXF,MAAMQ;QACNP,SAAS,CAACS,QAAeC,MAAeC,SAAaC;gBAI/B,8BACK;YAJzB,MAAMC,QAAQnB,cAAc;gBAC1BiB;gBACAC;gBACAE,gBAAgB,CAAC,GAAC,+BAAA,IAAI,CAACR,OAAO,CAACL,OAAO,CAACc,MAAM,cAA3B,mDAAA,6BAA6BC,aAAa;gBAC5DC,qBAAqB,GAAE,gCAAA,IAAI,CAACX,OAAO,CAACL,OAAO,CAACc,MAAM,cAA3B,oDAAA,8BAA6BE,qBAAqB;YAC3E;YAEA,OAAOC,mBACL,IAAI,CAACZ,OAAO,EACZO,OACAD,MACAZ,QAAQa,OAAOJ,QAAQC,MAAeC,SAASC;QAEnD;IACF;AACF;AAEAhB,kBAAkBuB,oBAAoB,GAAG,SAASA,qBAEhD,EACEpB,IAAI,EACJC,OAAO,EACP,GAAGC,SAC4F;IAEjG,MAAMC,aAAaC,MAAMC,OAAO,CAACL,QAAQA,IAAI,CAAC,EAAE,GAAGA;IACnD,MAAMM,UACJ,OAAOH,eAAe,WAClBT,gBAAgBS,YAAY,IAAI,CAACI,OAAO,IACvCJ;IACP,MAAMK,YAAYJ,MAAMC,OAAO,CAACL,QAC3B;QAACM;KAAQ,GACVA;IACJ,OAAO,AACL,IAAI,CACJe,cAAc,CAAC;QACf,GAAInB,OAAO;QACXF,MAAMQ;QACNP,SAAS,CAACS,QAAeC,MAAeC,SAAaC;gBAI/B,8BACK;YAJzB,MAAMC,QAAQnB,cAAc;gBAC1BiB;gBACAC;gBACAE,gBAAgB,CAAC,GAAC,+BAAA,IAAI,CAACR,OAAO,CAACL,OAAO,CAACc,MAAM,cAA3B,mDAAA,6BAA6BC,aAAa;gBAC5DC,qBAAqB,GAAE,gCAAA,IAAI,CAACX,OAAO,CAACL,OAAO,CAACc,MAAM,cAA3B,oDAAA,8BAA6BE,qBAAqB;YAC3E;YAEA,OAAOC,mBACL,IAAI,CAACZ,OAAO,EACZO,OACAD,MACAZ,QAAQa,OAAOJ,QAAQC,MAAeC,SAASC;QAEnD;IACF;AACF;AAEAhB,kBAAkByB,gBAAgB,GAAG,SAASA,iBAQ5C,EACEtB,IAAI,EACJuB,MAAM,EACNC,WAAU,+BAAA,IAAI,CAACjB,OAAO,CAACL,OAAO,CAACc,MAAM,cAA3B,mDAAA,6BAA6BS,iBAAiB,EACxDC,eAAc,gCAAA,IAAI,CAACnB,OAAO,CAACL,OAAO,CAACc,MAAM,cAA3B,oDAAA,8BAA6BW,qBAAqB,EAChE1B,OAAO,EACP2B,UAAU,EACV,GAAG1B,SAWJ,EACD2B,oBAAwB,CAAC,CAAC,EAC1BC,cAAkB,CAAC,CAAC;QAIN;IAFd,MAAMC,MAAM,OAAO/B,SAAS,WAAWN,gBAAgBM,MAAM,IAAI,CAACO,OAAO,IAAIP;IAC7E,MAAMgC,WAAW,IAAI,CAACzB,OAAO,CAAC0B,WAAW,CAACC,aAAa,CAACH,KAAKI,IAAI;IACjE,MAAMC,SAAQ,qDAAA,IAAI,CAAC7B,OAAO,CAAC0B,WAAW,CAACC,aAAa,CAACH,KAAKM,UAAU,cAAtD,yEAAA,mDAAwDC,iBAAiB;IACvF,MAAMC,eAAehD,mBAAmB6C,OAAO,IAAI,CAAC7B,OAAO,EAAEgB;IAC7D,MAAMiB,cAAchD,gBAAgB4C,OAAO,IAAI,CAAC7B,OAAO,EAAEgB;IACzD,MAAMkB,kBAAkBnD,YAAYoD,kBAAkB,CAACX,KAAKK,OAAOb,QAAQ,IAAI,CAAChB,OAAO;IACvF,MAAMoC,WAAW,AACf,IAAI,CAGJC,UAAU,CACV;QACE,GAAG1C,OAAO;QACVF,MAAM+B;QACN9B,SAAS,CACPS,QACAC,MACAC,SACAC;gBAQoB,8BACK;YAPzB,MAAMC,QAAQnB,cAAc;gBAC1BiB;gBACAC;gBACAgC,QAAQJ;gBACRK,OAAO;oBAAC;wBAAC;qBAAQ;oBAAE;wBAAC;wBAAS;qBAAO;iBAAC;gBACrCd;gBACAjB,gBAAgB,CAAC,GAAC,+BAAA,IAAI,CAACR,OAAO,CAACL,OAAO,CAACc,MAAM,cAA3B,mDAAA,6BAA6BC,aAAa;gBAC5DC,qBAAqB,GAAE,gCAAA,IAAI,CAACX,OAAO,CAACL,OAAO,CAACc,MAAM,cAA3B,oDAAA,8BAA6BE,qBAAqB;YAC3E;YAEA,MAAM6B,aAAa7D,aAAa2B,KAAKkC,UAAU;YAC/C,MAAMC,SACJ5D,aAAa2D,eAAe5D,gBAAgB4D,cAAcA,WAAWE,SAAS,KAAK,CAAC;YAEtF,MAAMC,aAAarC,KAAKsC,UAAU;YAElC,MAAMC,iBAAiBF,WAAWG,KAAK,CAAC,CAACC;oBACvCA;wBAAAA,0BAAAA,UAAUC,YAAY,cAAtBD,8CAAAA,wBAAwBJ,UAAU,CAACG,KAAK,CACtC,CAACG;wBAEER,iCAAAA;2BADDQ,EAAEC,IAAI,KAAKpE,KAAKqE,KAAK,IACpBV,CAAAA,EAAAA,uBAAAA,MAAM,CAACQ,EAAErB,IAAI,CAACwB,KAAK,CAAC,cAApBX,4CAAAA,kCAAAA,qBAAsBX,UAAU,cAAhCW,sDAAAA,gCAAkCY,sBAAsB,KACvDJ,EAAErB,IAAI,CAACwB,KAAK,KAAK,YAAW;;;YAIpC,OAAOlE,8BACL;gBACEiB;gBACAI;gBACA+C,KAAKjD;gBACL4B;gBACAhB;gBACAE;gBACAf;gBACAiB,YAAYA,cAAe,CAAA,IAAMA,WAAWlB,QAAQC,MAAeC,SAASC,KAAI;YAClF,GACA0B,cACA,CAACuB;gBACC,IAAIV,gBAAgB;oBAClB,OAAO,EAAE;gBACX;gBAEA,OAAOjC,mBACL,IAAI,CAACZ,OAAO,EACZO,OACAD,MACAZ,QAAQ6D,GAAYpD,QAAQC,MAAeC,SAASC;YAExD;QAEJ;IACF,GACAgB,6BAA6B9C,YACzB8C,oBACA;QACE,GAAGA,iBAAiB;QACpBmB,QAAQpB,aACJ,CACEmC;gBAYG;mBARC;gBACJnC,YAAYmC,EAAEC,GAAG,CAAC;oBAChBC,UAAU;oBACV5B,YAAY;wBACVuB,wBAAwB;oBAC1B;oBACA3D,SAAS,CAACS;4BAAWA;gCAAAA,qBAAAA,OAAOkB,UAAU,cAAjBlB,yCAAAA,wBAAAA;;gBACvB;oBACG,4BAAA,AAACmB,kBAAsDmB,MAAM,cAA7D,gDAAA,+BAACnB,mBAA+DkC,EAAnE;YACF;YACA,AAAClC,kBAA4CmB,MAAM;QACvDX,YAAY;eACNR,8BAAAA,wCAAD,AAACA,kBAA0DQ,UAAU,AAAxE;QACF;IACF,GACJP;IAGF,OAAOa;AACT;AAEA,SAASxB,mBACPZ,OAA+C,EAC/CO,KAAa,EACbD,IAAwB,EACxBqD,MAAS;IAET,MAAM,EAAEjD,aAAa,EAAE,GAAGV,QAAQL,OAAO,CAACc,MAAM,IAAI,CAAC;IACrD,IAAI,CAACC,eAAe;QAClB,OAAOiD;IACT;IAEA,IAAIpF,WAAWoF,SAAS;QACtB,OAAOA,OAAOC,IAAI,CAAC,CAACC;YAClB,IAAI,CAACxE,OAAOkB,QAAQ;gBAClBuD;YACF;YAEA,OAAOD;QACT;IACF;IAEA,IAAI,CAACxE,OAAOkB,QAAQ;QAClBuD;IACF;IAEA,OAAOH;IAEP,SAASG;QACP,IAAI,OAAOpD,kBAAkB,YAAY;YACvCA,cAAcJ;YACd;QACF;QAEA,MAAMyD,UAAU,CAAC,wCAAwC,EAAEzD,KAAK0D,UAAU,CAACpC,IAAI,CAAC,CAAC,EAAEtB,KAAK2D,SAAS,EAAE;QAEnG,IAAIvD,kBAAkB,SAAS;YAC7B,MAAM,IAAIjC,YAAYsF;QACxB;QACA,IAAIrD,kBAAkB,QAAQ;YAC5BwD,QAAQC,IAAI,CAACJ;QACf;IACF;AACF"}
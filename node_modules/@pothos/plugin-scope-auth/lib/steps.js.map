{"version":3,"sources":["../src/steps.ts"],"names":["createFieldAuthScopesStep","createFieldGrantScopesStep","createResolveStep","createTypeAuthScopesStep","createTypeGrantScopesStep","authScopes","type","run","state","parent","_args","_context","info","evaluateTypeScopeFunction","errorMessage","_parent","evaluateScopeMap","grantScopes","forField","context","grantTypeScopes","path","prev","parentType","fieldName","args","scopeMap","isThenable","then","resolved","saveGrantedScopes","result","resolver","_state","setResolved","Promise","resolve"],"mappings":"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"}
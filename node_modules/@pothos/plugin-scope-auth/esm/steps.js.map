{"version":3,"sources":["../src/steps.ts"],"names":["isThenable","createTypeAuthScopesStep","authScopes","type","run","state","parent","_args","_context","info","evaluateTypeScopeFunction","errorMessage","_parent","evaluateScopeMap","createTypeGrantScopesStep","grantScopes","forField","context","grantTypeScopes","path","prev","createFieldAuthScopesStep","parentType","fieldName","args","scopeMap","then","resolved","createFieldGrantScopesStep","saveGrantedScopes","result","createResolveStep","resolver","_state","setResolved","Promise","resolve"],"mappings":"AAAA,SAASA,UAAU,QAA0B,eAAe;AAU5D,OAAO,SAASC,yBACdC,UAA0C,EAC1CC,IAAY;IAEZ,IAAI,OAAOD,eAAe,YAAY;QACpC,OAAO;YACLE,KAAK,CAACC,OAAOC,QAAQC,OAAOC,UAAUC,OACpCJ,MAAMK,yBAAyB,CAACR,YAAYC,MAAMG,QAAQG;YAC5DE,cAAc,CAAC,kCAAkC,EAAER,MAAM;QAC3D;IACF;IAEA,OAAO;QACLC,KAAK,CAACC,OAAOO,SAASL,OAAOC,UAAUC,OAASJ,MAAMQ,gBAAgB,CAACX,YAAYO;QACnFE,cAAc,CAAC,kCAAkC,EAAER,MAAM;IAC3D;AACF;AAEA,OAAO,SAASW,0BACdC,WAA4C,EAC5CZ,IAAY,EACZa,QAAiB;IAEjB,OAAO;QACLZ,KAAK,CAACC,OAAOC,QAAQC,OAAOU,SAASR,OACnCJ,MAAMa,eAAe,CAACf,MAAMG,QAAQU,WAAWP,KAAKU,IAAI,CAACC,IAAI,GAAGX,KAAKU,IAAI,EAAE,IACzEJ,YAAYT,QAAQW;QAExBN,cAAc,CAAC,kCAAkC,EAAER,MAAM;IAC3D;AACF;AAEA,OAAO,SAASkB,0BACdnB,UAA0C;IAE1C,IAAI,OAAOA,eAAe,YAAY;QACpC,OAAO;YACLS,cAAc,CAACC,SAASL,OAAOC,UAAUC,OACvC,CAAC,0BAA0B,EAAEA,KAAKa,UAAU,CAAC,CAAC,EAAEb,KAAKc,SAAS,EAAE;YAClEnB,KAAK,CAACC,OAAOC,QAAQkB,MAAMP,SAASR;gBAClC,MAAMgB,WAAWvB,WAAWI,QAAckB,MAAMP,SAASR;gBAEzD,IAAIT,WAAWyB,WAAW;oBACxB,OAAOA,SAASC,IAAI,CAAC,CAACC,WAAatB,MAAMQ,gBAAgB,CAACc,UAAUlB;gBACtE;gBAEA,OAAOJ,MAAMQ,gBAAgB,CAACY,UAAUhB;YAC1C;QACF;IACF;IAEA,OAAO;QACLE,cAAc,CAACC,SAASL,OAAOC,UAAUC,OACvC,CAAC,0BAA0B,EAAEA,KAAKa,UAAU,CAAC,CAAC,EAAEb,KAAKc,SAAS,EAAE;QAClEnB,KAAK,CAACC,OAAOO,SAASL,OAAOC,UAAUC,OAASJ,MAAMQ,gBAAgB,CAACX,YAAYO;IACrF;AACF;AAEA,OAAO,SAASmB,2BACdb,WAA4C;IAE5C,OAAO;QACLJ,cAAc,CAACC,SAASL,OAAOC,UAAUC,OACvC,CAAC,oCAAoC,EAAEA,KAAKa,UAAU,CAAC,CAAC,EAAEb,KAAKc,SAAS,EAAE;QAC5EnB,KAAK,CAACC,OAAOC,QAAQkB,MAAMP,SAASR;YAClC,IAAI,OAAOM,gBAAgB,YAAY;gBACrCV,MAAMwB,iBAAiB,CAACd,aAAaN,KAAKU,IAAI;gBAE9C,OAAO;YACT;YACA,MAAMW,SAASf,YAAYT,QAAckB,MAAMP,SAASR;YAExD,IAAIT,WAAW8B,SAAS;gBACtB,OAAOA,OAAOJ,IAAI,CAAC,CAACC;oBAClBtB,MAAMwB,iBAAiB,CAACF,UAAUlB,KAAKU,IAAI;oBAE3C,OAAO;gBACT;YACF;YAEAd,MAAMwB,iBAAiB,CAACC,QAAQrB,KAAKU,IAAI;YAEzC,OAAO;QACT;IACF;AACF;AAEA,OAAO,SAASY,kBACdC,QAAiE;IAEjE,OAAO;QACLrB,cAAc,CAACC,SAASL,OAAOC,UAAUC,OACvC,CAAC,wBAAwB,EAAEA,KAAKa,UAAU,CAAC,CAAC,EAAEb,KAAKc,SAAS,EAAE;QAChEnB,KAAK,CAAC6B,QAAQ3B,QAAQkB,MAAMP,SAASR,MAAMyB;YACzC,MAAMJ,SAAkBE,SAAS1B,QAAQkB,MAAMP,SAASR;YAExD,IAAIT,WAAW8B,SAAS;gBACtB,OAAOK,QAAQC,OAAO,CAACN,QAAQJ,IAAI,CAAC,CAACC;oBACnCO,YAAYP;oBAEZ,OAAO;gBACT;YACF;YAEAO,YAAYJ;YAEZ,OAAO;QACT;IACF;AACF"}
# Workshop Queries
query Workshops {
  workshops {
    id
    name
    type
    capacity
    location
    isActive
    activeProductionCount
    totalProductionCount
    utilizationRate
    owner {
      id
      name
    }
  }
}

query Workshop($id: Int!) {
  workshop(id: $id) {
    id
    name
    type
    capacity
    location
    isActive
    activeProductionCount
    totalProductionCount
    utilizationRate
    owner {
      id
      name
    }
    sewingProductions {
      id
      currentStage
    }
    packagingProductions {
      id
      currentStage
    }
  }
}

query MyWorkshops {
  myWorkshops {
    id
    name
    type
    capacity
    location
    isActive
    activeProductionCount
    totalProductionCount
    utilizationRate
  }
}

query WorkshopStats {
  workshopStats {
    totalWorkshops
    totalProductions
    activeProductions
    completedProductions
    utilizationRate
  }
}

# Workshop Mutations
mutation CreateWorkshop($input: CreateWorkshopInput!) {
  createWorkshop(input: $input) {
    id
    name
    type
    capacity
    location
    isActive
  }
}

mutation UpdateWorkshop($input: UpdateWorkshopInput!) {
  updateWorkshop(input: $input) {
    id
    name
    type
    capacity
    location
    isActive
  }
}

mutation DeleteWorkshop($id: Int!) {
  deleteWorkshop(id: $id) {
    id
    name
  }
}

mutation AssignWorkshopToProduction(
  $productionId: Int!
  $sewingWorkshopId: Int
  $packagingWorkshopId: Int
) {
  assignWorkshopToProduction(
    productionId: $productionId
    sewingWorkshopId: $sewingWorkshopId
    packagingWorkshopId: $packagingWorkshopId
  ) {
    id
    currentStage
    sewingWorkshopId
    packagingWorkshopId
  }
}

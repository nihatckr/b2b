query BuyerOrders($skip: Int, $take: Int, $status: String, $search: String) {
  orders(skip: $skip, take: $take, status: $status, search: $search) {
    id
    orderNumber
    quantity
    targetPrice
    currency
    deadline
    status
    notes
    createdAt
    updatedAt
    collection {
      id
      name
      modelCode
      images
      targetPrice
      currency
      company {
        id
        name
      }
    }
    customer {
      id
      name
      email
    }
    manufacturer {
      id
      name
      email
    }
  }
}

query BuyerOrderDetail($id: Int!) {
  order(id: $id) {
    id
    orderNumber
    quantity
    targetPrice
    currency
    deadline
    status
    notes
    unitPrice
    productionDays
    manufacturerResponse
    actualProductionStart
    createdAt
    updatedAt
    collection {
      id
      name
      description
      modelCode
      season
      gender
      fit
      trend
      colors
      sizeRange
      fabricComposition
      accessories
      images
      moq
      targetPrice
      currency
      deadlineDays
      notes
      company {
        id
        name
        email
        phone
        address
        city
        country
        website
      }
    }
    customer {
      id
      name
      email
      phone
      company {
        id
        name
        email
        phone
        address
        city
        country
      }
    }
    manufacturer {
      id
      name
      email
      phone
      company {
        id
        name
        email
        phone
        address
        city
        country
      }
    }
  }
}

# Customer sends counter offer
mutation CustomerCounterOffer(
  $id: Int!
  $customerQuotedPrice: Float!
  $customerQuoteDays: Int
  $customerQuoteNote: String
) {
  updateOrder(
    id: $id
    customerQuotedPrice: $customerQuotedPrice
    customerQuoteDays: $customerQuoteDays
    customerQuoteNote: $customerQuoteNote
    status: "CUSTOMER_NEGOTIATING"
  ) {
    id
    orderNumber
    status
    customerQuotedPrice
    customerQuoteDays
    customerQuoteNote
  }
}

# Customer accepts manufacturer quote
mutation CustomerAcceptQuote($id: Int!) {
  updateOrder(id: $id, status: "CONFIRMED") {
    id
    orderNumber
    status
  }
}

# Customer rejects manufacturer quote
mutation CustomerRejectQuote($id: Int!) {
  updateOrder(id: $id, status: "REJECTED") {
    id
    orderNumber
    status
  }
}

# Manufacturer accepts customer quote (direct acceptance)
mutation ManufacturerAcceptCustomerQuote($orderId: Int!) {
  manufacturerAcceptCustomerQuote(orderId: $orderId) {
    id
    orderNumber
    status
    unitPrice
    productionDays
  }
}

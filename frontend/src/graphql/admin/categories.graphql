# ========================================
# ADMIN CATEGORY QUERIES
# ========================================

query AdminCategories($search: String, $skip: Int, $take: Int) {
  categories(search: $search, skip: $skip, take: $take) {
    id
    name
    description
    createdAt
    updatedAt
    author {
      id
      name
      email
    }
    company {
      id
      name
    }
    parentCategory {
      id
      name
    }
  }
}

query AdminCategoriesCount($search: String) {
  categoriesCount(search: $search)
}

query AdminCategory($id: Int!) {
  category(id: $id) {
    id
    name
    description
    createdAt
    updatedAt
    author {
      id
      name
      email
    }
    company {
      id
      name
    }
    parentCategory {
      id
      name
    }
    subCategories {
      id
      name
      description
    }
    collections {
      id
      name
    }
  }
}

query AdminRootCategories {
  rootCategories {
    id
    name
    description
    subCategories {
      id
      name
      description
    }
  }
}

query AdminCategoryTree {
  categoryTree
}

# ========================================
# ADMIN CATEGORY MUTATIONS
# ========================================

mutation AdminCreateCategory(
  $name: String!
  $description: String
  $parentCategoryId: Int
) {
  createCategory(
    name: $name
    description: $description
    parentCategoryId: $parentCategoryId
  ) {
    id
    name
    description
    createdAt
    updatedAt
    parentCategory {
      id
      name
    }
  }
}

mutation AdminUpdateCategory($id: Int!, $name: String, $description: String) {
  updateCategory(id: $id, name: $name, description: $description) {
    id
    name
    description
    updatedAt
  }
}

mutation AdminDeleteCategory($id: Int!) {
  deleteCategory(id: $id)
}

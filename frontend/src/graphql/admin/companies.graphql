# ==========================================
# ADMIN COMPANY MANAGEMENT QUERIES
# ==========================================

# List all companies with search and filtering
query AdminCompaniesList(
  $skip: Int
  $take: Int
  $search: String
  $type: String
  $includeInactive: Boolean
) {
  companies(
    skip: $skip
    take: $take
    search: $search
    type: $type
    includeInactive: $includeInactive
  ) {
    id
    name
    email
    phone
    type
    description
    website
    address
    city
    country
    logo
    isActive
    subscriptionPlan
    subscriptionStatus
    currentUsers
    currentSamples
    currentOrders
    maxUsers
    maxSamples
    createdAt
    updatedAt
    owner {
      id
      name
      email
    }
  }
}

# Get company details by ID
query AdminCompanyDetail($id: Int!) {
  company(id: $id) {
    id
    name
    email
    phone
    type
    description
    website
    address
    city
    country
    logo
    coverImage
    profileSlug
    isPublicProfile
    isActive

    # Subscription
    subscriptionPlan
    subscriptionStatus

    # Usage & Limits
    maxUsers
    maxSamples
    maxOrders
    maxCollections
    maxStorageGB
    currentUsers
    currentSamples
    currentOrders
    currentCollections
    currentStorageGB

    # Timestamps
    createdAt
    updatedAt

    # Relations
    owner {
      id
      name
      email
      phone
    }

    # Company users (employees)
    employees {
      id
      name
      email
      role
      department
      isActive
      createdAt
    }
  }
}

# Get company stats (for dashboard cards)
query AdminCompanyStats {
  companies {
    id
    type
    isActive
    subscriptionPlan
    currentUsers
    currentSamples
    currentOrders
  }
}

# ==========================================
# ADMIN COMPANY MANAGEMENT MUTATIONS
# ==========================================

# Update company (admin can update any company)
mutation AdminUpdateCompany(
  $id: Int!
  $name: String
  $email: String
  $phone: String
  $description: String
  $website: String
  $address: String
  $city: String
  $country: String
  $logo: String
  $subscriptionPlan: String
  $subscriptionStatus: String
) {
  updateCompany(
    id: $id
    name: $name
    email: $email
    phone: $phone
    description: $description
    website: $website
    address: $address
    city: $city
    country: $country
    logo: $logo
    subscriptionPlan: $subscriptionPlan
    subscriptionStatus: $subscriptionStatus
  ) {
    id
    name
    email
    type
    isActive
    subscriptionPlan
    subscriptionStatus
    updatedAt
  }
}

# Toggle company active status (soft delete/restore)
mutation AdminToggleCompanyStatus($id: Int!) {
  toggleCompanyStatus(id: $id) {
    id
    isActive
  }
}

# Delete company (soft delete by default, optional hard delete)
mutation AdminDeleteCompany($id: Int!, $hardDelete: Boolean) {
  deleteCompany(id: $id, hardDelete: $hardDelete)
}

# Create new company (admin only)
mutation AdminCreateCompany(
  $name: String!
  $email: String!
  $phone: String
  $type: String!
) {
  createCompany(name: $name, email: $email, phone: $phone, type: $type) {
    id
    name
    email
    type
    phone
    isActive
    createdAt
  }
}
